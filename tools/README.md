# 数据库工具

这个目录包含与数据库相关的工具和脚本。

## 数据库迁移工具

`migrate_db.dart` 是一个用于执行数据库迁移的命令行工具。这个工具会创建必要的数据库表和索引，或者更新现有的表结构。

### 使用方法

在首次运行应用之前，或者当数据库结构发生变化时，应该运行这个工具。

```bash
# 在项目根目录下运行
dart tools/migrate_db.dart
```

### 何时需要运行迁移工具

在以下情况下，你需要运行数据库迁移工具：

1. **首次运行应用**：在第一次启动应用之前，运行迁移工具来创建数据库表。
2. **数据库模式变更**：当数据库模式发生变化时（例如添加新表、修改现有表等）。
3. **数据库错误**：当应用报告数据库相关错误时，尝试运行迁移工具可能会解决问题。

### 注意事项

- 该工具需要正确的环境变量配置，确保项目根目录下有正确配置的 `.env` 文件。
- 运行迁移工具不会影响已有的数据，它只会创建缺失的表和字段，或者更新表结构。
- 如果迁移过程中出现错误，工具会显示详细的错误信息。
